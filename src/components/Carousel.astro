---
import { useState } from "react";
import Disc from "./Disc.jsx";

// Discs in public/discs
const discs = [
  { src: "/discs/Home.jpg", title: "Home" },
  { src: "/discs/Products.jpg", title: "Products" },
  { src: "/discs/flying-tips.jpg", title: "Flying Tips" },
  { src: "/discs/youtube.jpg", title: "YouTube" }
];
---

<div class="relative w-[300px] h-[300px] mx-auto overflow-hidden">
  <div
    class="relative w-full h-full"
    style="transform-style: preserve-3d; transition: transform 1s ease;"
    client:load
  >
    {
      discs.map((disc, i) => {
        const angle = (i / discs.length) * 360;
        const radius = 120; // fake depth
        const x = Math.sin((angle * Math.PI) / 180) * radius;
        const z = Math.cos((angle * Math.PI) / 180) * radius;

        return (
          <Disc
            src={disc.src}
            title={disc.title}
            style={{
              transform: `translateX(${x}px) translateZ(${z}px)`,
            }}
          />
        );
      })
    }
  </div>
</div>
